% document
\documentclass[10pt,graphics,aspectratio=169,table]{beamer}
\usepackage{listings}
\usepackage{csquotes}
\usepackage{hyperref}
\usepackage{xcolor}
% theme
\usetheme{metropolis}
% packages
\title{Lesson 2}
\author{Christian Schwarz, Jakob Krebs}
\date{04.11.2019}
\begin{document}
\maketitle

\begin{frame}{Contents}
    \tableofcontents
\end{frame}

%TODO: extract this into a module, i don't know how though, jakob please :)
\newcommand{\code}[1]{\colorbox{lightlightgray}{\lstinline[
    language=C,
    showstringspaces=false,
    basicstyle=\ttfamily,
    columns=flexible,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
]$#1$}}
\definecolor{lightlightgray}{RGB}{230,230,230}
\lstnewenvironment{codeblock}
    {
          \minipage{\textwidth} 
          \lstset{
            language=C,
            backgroundcolor=\color{lightlightgray},
            showstringspaces=false,
            basicstyle=\ttfamily,
            columns=fixed,
            keywordstyle=\color{blue},
            commentstyle=\color{gray},
            breaklines=false,
            captionpos=b,
            extendedchars=true,
          }
    }
    {
        \endminipage
    }


\section{Source Code and Solutions}

\section{Variables and Types}
\begin{frame}{Integers}
    \begin{itemize}
        \item Keywords: \code{int}, \code{short}, \code{long}, \code{long long}
        \item Stored as a binary number with fixed length
        \item Can be \code{signed} or \code{unsigned} (undefined, but can be overridden using signed char and unsigned char)
        \item Actual size of \code{int}, \code{short}, \code{long} depends on architecture
        \item For definite sizes: include stddef.h which adds types like \code{size_t}, \code{int32_t}, \code{uint64_t}
    \end{itemize}
\end{frame}

\begin{frame}[fragile]{Floating Point Numbers}
    \begin{itemize}
        \item Keywords: \code{float}, \code{double}, \code{long double}
        \item Stored as specified in \textit{IEEE 754 Standard} TL;DR
        \item Special values for $\infty$, $-\infty$, NaN
        \item Useful for fractions and very large numbers
        \item Type a decimal point instead of a comma!
    \end{itemize}\ \\
    \ \\
    Example:
    \begin{codeblock}
float x = 0.125;             /* Precision: 7 to 8 digits */
double y = 111111.111111;    /* Precision: 15 to 16 digits */
    \end{codeblock}

\end{frame}
\begin{frame}[fragile]{Characters}
    \begin{itemize}
        \item Keyword: \code{char}
        \item Can be \code{signed}(default) or \code{unsigned}    
        \item Size: 1 Byte (8 Bit) on almost every architecture
        \item Intended to represent a single character
        \item Stores its \textit{ASCII} number (e.g. 'A' $\Rightarrow$ 65)
    \end{itemize}\ \\
    \ \\
    You can define a \code{char} either by its ASCII number or by its symbol:
    \begin{codeblock}
char a = 65;
char b = 'A';    /* use single quotation marks */
    \end{codeblock}
\end{frame}


\section{Control Structures}
\begin{frame}[fragile]{if statements}
    \begin{itemize}
    \item basic usage:
        \begin{codeblock} 
if(3 > 2){  // arbitrary condition
    //this gets executed IF the condition evaluates to true
}
        \end{codeblock}
    \item short form (use it only for short and simple things):
        \begin{codeblock} 
if(3 > 2) bar();
        \end{codeblock}

    \item else blocks:
        \begin{codeblock} 
if(foo()){ 
}
else if(bar()){ 
}
else{ 
}
        \end{codeblock}

        what we really use here is the shorthand notation on the else block

    \end{itemize}
\end{frame}

\begin{frame}[fragile]{switch statements}
    \begin{codeblock}
switch(command_that_returns_a_status_code()){
    case 0: break; //everything is ok
    case 1: puts("we ran out of disk space"); break;
    case 2: {
        puts("something terrible happened.");
        puts("have you tried switching it off and on again?");
    }break;
    case 17: puts("foo"); //fallthrough! missing break (or intended??)
    case 144: puts("bar"); break;
    default: puts("this should never happen(TM)");
}
    \end{codeblock}
    Every case must be terminated by a \code{break;} statement, otherwise the 
    following case(s) also get executed. If this is really your intention,
    which happens very rarely, put a comment like \code{//fallthrough}, 
    since this is a common bug
\end{frame}

\begin{frame}[fragile]{basic while statements}
    \begin{codeblock}
int i = 0;
while(i < 20){
    printf("%i\n", i);
    i++;
}
    \end{codeblock}

    This loop prints the numbers from 0 to 19(inclusive).
    Before each iteration (even before the first) the condition is checked.
    Once the condition is no longer satisfied, it jumps after the loop block.
\end{frame}
\begin{frame}[fragile]{break and continue in while statements}
    \begin{codeblock}
int i = 0;
while(true){
    i++; 
    if(i % 7 == 0) continue; //skip all numbers divisible by 5
    printf("%i\n", i);
    if(i == 20)break; //exit the loop once i is 30
}
    \end{codeblock} 
    \begin{itemize}
        \item
            \code{continue} skips the rest of the loop block and begins
            the next iteration
        \item \code{break} just jumps after the end of the loop block
        \item 
            Beware: if you have a \code{switch} inside a \code{while},
            \code{break} will just exit the \code{switch}!
        \item 
            In fact, \code{break} and \code{continue} will always be applied to
            the innermost control structure that defines them. 
    \end{itemize}
\end{frame}

\subsection{do \ldots while}

\subsection{for loop}

\subsection{operators}

\section{format strings}

\section{functions}
\end{document}
