% document
\documentclass[10pt,graphics,aspectratio=169,table]{beamer}
\usepackage{../code}
\usepackage{csquotes}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{pgfplots}
% theme
\usetikzlibrary{arrows}
\tikzstyle{line}=[draw] % here
\usetikzlibrary{decorations.pathmorphing}
\tikzset{arrow/.style={-latex, shorten >=.5ex, shorten <=.5ex}}

\usetheme{metropolis}
% packages
\title{Lesson 10}
\author{Christian Schwarz, Jakob Krebs}
\date{15.12.2019}
\begin{document}
\maketitle

\begin{frame}{Contents}
    \tableofcontents
\end{frame}

\begin{frame}{Sources and Solutions}
    \begin{itemize}
        \item we publish all code written in this course at \url{https://github.com/jkrbs/c_lessons}
        \item we will publish example solutions of the tasks on same site
        \item send us questions or your solutions to c-lessons@deutschland.gmbh
    \end{itemize}
\end{frame}



\section{Make}
\subsection{}

\begin{frame}{motivation}
  you have seen the gcc commands.
  \bigskip
  they get complicated for big projects with multiple libraries.
\bigskip
for projects with multiple files we ususaly use build systems  
\begin{itemize}
    \item cmake
    \item gnu/make
    \item autotools
    \item \ldots
  \end{itemize}
\end{frame}

\begin{frame}[fragile]{Makefile}
    \begin{lstlisting}[language=make]
    CC := gcc
    CFLAGS := -Wall
    DFlAGS := $(CFLAGS) -g
    RFLAGS := $(CLAFGS) -O2
    TARGET := target
    NAME := our_binary_name
    SRC := $(shell find src/ -iname '*.c')
    .PHONY release clean debug #define all targets 
    release: 
    $(CC) $(RFLAGS) -o $(target)/$(NAME) $(SRC)
    debug:
    $(CC) $(DFLAGS) -o $(taget)/$(NAME) $(SRC)
    clean:
    @rm $(TARGET)/*
    
  \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{usage}
  write your makefile in a file called \enquote{Makefile} in the root directory
  of your project
  
    \begin{lstlisting}[numbers=none]
    $ make # in the root directory of your project
    $ make clean
    $ make debug
  \end{lstlisting}
  
\end{frame}

\end{document}

